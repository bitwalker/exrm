<!DOCTYPE html>
<html>
  <head>
    <title>ReleaseManager.Plugin</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
    <link rel="stylesheet" href="css/elixir.css" type="text/css" media="screen" charset="utf-8" />
    <script type="text/javascript" charset="utf-8">
      relpath = '';
      if (relpath != '') relpath += '/';
    </script>

    <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/app.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/highlight.pack.js"></script>
    <script type="text/javascript" charset="utf-8">
      hljs.initHighlightingOnLoad();
      hljs.configure({languages: []}); //disable autodetect
    </script>
  </head>

  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>

    <section id="content">
      <div class="breadcrumbs">exrm v0.16.0 &rarr; <a href="overview.html">Overview</a> &rarr; ReleaseManager &rarr; <a href="ReleaseManager.Plugin.html">Plugin</a></div>
      <h1>
        ReleaseManager.Plugin
        
          <small>behaviour</small>
        
      </h1>

      <ul class="summary_links">
        
          <li><a href="#summary">Summary</a></li>
        
        
        
          <li><a href="#functions_details">Functions</a></li>
        
        
        
          <li><a href="#callbacks_details">Callbacks</a></li>
        
      </ul>

      
        <section id="moduledoc" class="docstring">
          <p>This module provide a simple way to add additional steps to
the release task.</p>
<p>You can define your own plugins using the sample definition below. Note that
the module namespace must be nested under <code class="inline">ReleaseManager.Plugin.*</code>.</p>
<pre><code class="elixir">defmodule ReleaseManager.Plugin.Hello do
  use ReleaseManager.Plugin

  def before_release(%Config{} = config) do
    info &quot;This is executed just prior to compiling the release&quot;
  end

  def after_release(%Config{} = config) do
    info &quot;This is executed just after compiling the release&quot;
  end

  def after_cleanup(_args) do
    info &quot;This is executed just after running cleanup&quot;
  end
end</code></pre>
<p>A couple things are imported or aliased for you. Those things are:</p>
<ul>
<li>The ReleaseManager.Config struct is aliased for you to just Config
</li>
<li><code class="inline">debug/1</code>, <code class="inline">info/1</code>, <code class="inline">warn/1</code>, <code class="inline">notice/1</code>, and <code class="inline">error/1</code> are imported for you.
These should be used to do any output for the user.
</li>
</ul>
<p><a href="#before_release/1"><code class="inline">before_release/1</code></a> and <a href="#after_release/1"><code class="inline">after_release/1</code></a> are required callbacks, and will each be passed a
<code class="inline">Config</code> struct, containing the configuration for the release task. You can choose
to return the config struct modified or unmodified, or not at all. In the former case,
any modifications you made will be passed on to the remaining plugins and the final
release task. The required callback <code class="inline">after_cleanup/1</code> is passed the command line arguments.
The return value is not used.</p>
<p>All plugins are executed just prior, and just after compiling the release, as the name of
the callbacks reflect. The <a href="#before_release/1"><code class="inline">before_release/1</code></a> callback is called after some internal tasks,
such as generating the sys.config and others.</p>

        </section>
      

      

      
        <h2 id="summary">Summary<span class="detail_header_links"><a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a></span></h2>
        <table class="summary">
          <tr>
  <td class="summary_signature"><a href="#load_all/0">load_all()</a></td>
  
    <td class="summary_synopsis"><p>Loads all plugins in all code paths</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#load_plugins/1">load_plugins(paths)</a></td>
  
    <td class="summary_synopsis"><p>Loads all plugins in the given <code class="inline">paths</code></p>
</td>
  
</tr>

        </table>
      

      

      
        <section id="functions_details" class="details_list">
          <h2>Functions</h2>
          <section class="detail">
  <div class="detail_header" id="load_all/0">
    <span class="signature"><strong>load_all()</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#load_all/0" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
    <p>Specs:</p>
    <ul class="spec">
      
        <li>load_all :: [] | [atom]</li>
      
    </ul>
  
  <section class="docstring">
    <p>Loads all plugins in all code paths.</p>

  </section>
  
</section>
<section class="detail">
  <div class="detail_header" id="load_plugins/1">
    <span class="signature"><strong>load_plugins(paths)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#load_plugins/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
    <p>Specs:</p>
    <ul class="spec">
      
        <li>load_plugins([binary]) :: [] | [atom]</li>
      
    </ul>
  
  <section class="docstring">
    <p>Loads all plugins in the given <code class="inline">paths</code>.</p>

  </section>
  
</section>

        </section>
      

      

      
        <section id="callbacks_details" class="details_list">
          <h2>Callbacks</h2>
          <section class="detail">
  <div class="detail_header" id="c:after_release/1">
    <span class="signature"><strong>after_release/1</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(callback)</span>
      <a href="#c:after_release/1" class="detail_link" title="Link to this callback">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
    <p>Specs:</p>
    <ul class="spec">
      
        <li>after_release(<a href="ReleaseManager.Config.html#t:t/0">ReleaseManager.Config.t</a>) :: any</li>
      
    </ul>
  
  <section class="docstring">
    
  </section>
  
</section>
<section class="detail">
  <div class="detail_header" id="c:before_release/1">
    <span class="signature"><strong>before_release/1</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(callback)</span>
      <a href="#c:before_release/1" class="detail_link" title="Link to this callback">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
    <p>Specs:</p>
    <ul class="spec">
      
        <li>before_release(<a href="ReleaseManager.Config.html#t:t/0">ReleaseManager.Config.t</a>) :: any</li>
      
    </ul>
  
  <section class="docstring">
    <p>A plugin needs to implement <a href="#before_release/1"><code class="inline">before_release/1</code></a>, and <a href="#after_release/1"><code class="inline">after_release/1</code></a>
both of which receive a %ReleaseManager.Config struct</p>

  </section>
  
</section>

        </section>
      
    </section>
  </body>
</html>
